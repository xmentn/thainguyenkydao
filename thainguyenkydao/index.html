<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Qu·∫£n L√Ω Qu·ªπ - Th√°i Nguy√™n K·ª≥ ƒê·∫°o</title>
  <link rel="icon" type="image/png" href="images/Logo CLB.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="loadingOverlay" class="loading-overlay">
      <div class="spinner-border text-primary" role="status"></div>
    </div>

    <div id="login-container">
      <div class="card card-box p-4 pt-5">
        <div class="text-center mb-4">
          <img
            src="https://drive.google.com/thumbnail?id=1YI9ktkzuFoP6rPeAMOwlAQ2KEdBsVHoz&sz=w1000"
            class="logo-login mb-3"
          />
          <h5 class="fw-bold text-dark text-uppercase">
            CLB C·ªú T∆Ø·ªöNG<br />TH√ÅI NGUY√äN K·ª≤ ƒê·∫†O
          </h5>
        </div>
        <form onsubmit="xuLyDangNhap(event)">
          <div class="mb-3">
            <input
              type="text"
              id="username"
              class="form-control py-2"
              placeholder="T√™n ƒëƒÉng nh·∫≠p"
              required
            />
          </div>
          <div class="mb-4">
            <input
              type="password"
              id="password"
              class="form-control py-2"
              placeholder="M·∫≠t kh·∫©u"
              required
            />
          </div>
          <button
            type="submit"
            class="btn btn-primary w-100 fw-bold py-2 shadow-sm"
            id="btnLogin"
          >
            ƒêƒÇNG NH·∫¨P <i class="fas fa-arrow-right ms-2"></i>
          </button>
        </form>
      </div>
    </div>

    <div id="app-container">
      <div class="header mb-4">
        <div class="d-flex align-items-center justify-content-center">
          <img
            src="https://drive.google.com/thumbnail?id=1YI9ktkzuFoP6rPeAMOwlAQ2KEdBsVHoz&sz=w1000"
            class="logo-header me-3"
          />
          <div class="text-start">
            <h6
              class="mb-0 text-uppercase opacity-75"
              style="font-size: 0.7rem"
            >
              Ph·∫ßn m·ªÅm Qu·∫£n l√Ω qu·ªπ
            </h6>
            <h4 class="fw-bold mb-0">TH√ÅI NGUY√äN K·ª≤ ƒê·∫†O</h4>
          </div>
        </div>
        <div class="position-absolute top-0 end-0 mt-3 me-3">
          <button onclick="dangXuat()" class="btn btn-sm text-white opacity-75">
            <i class="fas fa-power-off"></i>
          </button>
        </div>
        <div class="text-center mt-2">
          <span class="badge bg-white text-primary rounded-pill shadow-sm px-3"
            ><i class="fas fa-user-circle me-1"></i> Xin ch√†o,
            <span id="user-name">...</span></span
          >
        </div>
      </div>

      <div class="container" style="max-width: 900px">
        <div id="view-dashboard">
          <div class="card card-box bg-white mb-3 p-3 text-center">
            <span class="text-muted text-uppercase small fw-bold"
              >T·ªìn Qu·ªπ Hi·ªán T·∫°i</span
            >
            <div id="dash-tonquy" class="display-5 fw-bold text-primary my-1">
              ...
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="card card-box bg-white p-3 h-100">
                <h6 class="text-center text-muted small fw-bold mb-2">
                  T·ªîNG THU - CHI
                </h6>
                <div class="chart-container">
                  <canvas id="bieuDoTron"></canvas>
                </div>
                <div class="row mt-2 text-center">
                  <div class="col-6 border-end">
                    <small class="text-success fw-bold">Thu</small>
                    <div id="dash-thu" class="fw-bold small">...</div>
                  </div>
                  <div class="col-6">
                    <small class="text-danger fw-bold">Chi</small>
                    <div id="dash-chi" class="fw-bold small">...</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6 mb-3">
              <div class="card card-box bg-white p-3 h-100">
                <h6 class="text-center text-muted small fw-bold mb-2">
                  C∆† C·∫§U NGU·ªíN THU
                </h6>
                <div class="chart-container">
                  <canvas id="bieuDoNguonThu"></canvas>
                </div>
                <div class="mt-2 text-center small text-muted fst-italic">
                  * T·ª∑ l·ªá c√°c kho·∫£n thu nh·∫≠p
                </div>
              </div>
            </div>
          </div>

          <div class="card card-box bg-white mb-4">
            <div class="card-header bg-white border-0 pt-3 pb-0">
              <h6 class="text-center text-primary fw-bold text-uppercase">
                <i class="fas fa-crown text-warning me-2"></i>B·∫£ng V√†ng T√†i Tr·ª£
              </h6>
            </div>
            <div class="card-body p-0">
              <ul class="list-group list-group-flush" id="list-top10">
                <li class="list-group-item text-center text-muted small py-4">
                  ƒêang t·∫£i d·ªØ li·ªáu...
                </li>
              </ul>
            </div>
          </div>
          <div class="card card-box bg-white mb-4">
            <div
              class="card-header bg-success bg-opacity-10 border-0 pt-3 pb-0"
            >
              <h6 class="text-center text-success fw-bold text-uppercase">
                <i class="fas fa-gift me-2"></i>·ª¶ng H·ªô Hi·ªán V·∫≠t
              </h6>
            </div>
            <div class="card-body p-0">
              <ul class="list-group list-group-flush" id="list-hienvat">
                <li class="list-group-item text-center text-muted small py-4">
                  ƒêang t·∫£i d·ªØ li·ªáu...
                </li>
              </ul>
            </div>
          </div>

          <h6 class="text-muted fw-bold mb-3 ms-2 small text-uppercase">
            Menu ch·ª©c nƒÉng
          </h6>
          <button
            class="btn btn-primary btn-menu admin-only"
            onclick="chuyenManHinh('form')"
            style="
              background-color: #2962ff !important;
              display: flex !important;
            "
          >
            <i class="fas fa-plus-circle fa-lg me-3"></i> NH·∫¨P THU / CHI
          </button>
          <button
            class="btn btn-warning btn-menu text-dark"
            onclick="chuyenManHinh('search')"
            style="background-color: #ffc107 !important"
          >
            <i class="fas fa-search fa-lg me-3"></i> TRA C·ª®U & B√ÅO C√ÅO
          </button>
          <button
            class="btn btn-secondary btn-menu admin-only text-white"
            onclick="saoLuuDuLieu()"
            style="
              background-color: #6c757d !important;
              display: flex !important;
            "
          >
            <i class="fas fa-database fa-lg me-3"></i> SAO L∆ØU D·ªÆ LI·ªÜU
          </button>
        </div>

        <div id="view-form">
          <button
            class="btn btn-light mb-3 rounded-pill px-4 fw-bold text-muted shadow-sm"
            onclick="chuyenManHinh('dashboard')"
          >
            <i class="fas fa-arrow-left me-2"></i>Quay l·∫°i
          </button>
          <div class="card card-box p-4 bg-white">
            <h5 class="text-center text-primary fw-bold mb-4">
              NH·∫¨P GIAO D·ªäCH
            </h5>
            <form id="myForm" onsubmit="handleFormSubmit(event)">
              <div class="mb-4 text-center">
                <div class="btn-group w-100 p-1 bg-light rounded-pill">
                  <input
                    type="radio"
                    class="btn-check"
                    name="loaiGiaoDich"
                    id="rt1"
                    value="Thu"
                    checked
                  /><label
                    class="btn btn-outline-success rounded-pill border-0 fw-bold"
                    for="rt1"
                    >THU (+)</label
                  ><input
                    type="radio"
                    class="btn-check"
                    name="loaiGiaoDich"
                    id="rt2"
                    value="Chi"
                  /><label
                    class="btn btn-outline-danger rounded-pill border-0 fw-bold"
                    for="rt2"
                    >CHI (-)</label
                  >
                </div>
              </div>
              <div class="row">
                <div class="col-6 mb-3">
                  <label class="small fw-bold text-muted">Ng√†y</label
                  ><input
                    type="date"
                    class="form-control"
                    id="datePicker"
                    required
                  />
                </div>
                <div class="col-6 mb-3">
                  <label class="small fw-bold text-muted">Ti·ªÅn</label
                  ><input
                    type="number"
                    class="form-control fw-bold text-primary"
                    id="soTien"
                    required
                    placeholder="0"
                  />
                </div>
              </div>
              <div class="mb-3">
                <label class="small fw-bold text-muted">N·ªôi dung</label
                ><select class="form-select" id="hangMuc" required>
                  <option value="" selected disabled>
                    -- Ch·ªçn n·ªôi dung --
                  </option>
                  <optgroup label="CHI PH√ç (-)">
                    <option value="Chi ti·ªÅn th∆∞·ªüng">Chi ti·ªÅn th∆∞·ªüng</option>
                    <option value="Chi mua c√∫p, c·ªù">Mua c√∫p, c·ªù</option>
                    <option value="Chi mua c·ªù l∆∞u ni·ªám">Mua c·ªù l∆∞u ni·ªám</option>
                    <option value="Li√™n hoan, ƒÉn u·ªëng">Li√™n hoan</option>
                    <option value="Mua n∆∞·ªõc u·ªëng">Mua n∆∞·ªõc u·ªëng</option>
                    <option value="Chi thu√™ s√¢n b√£i">Thu√™ s√¢n b√£i</option>
                    <option value="Chi kh√°c">Chi kh√°c</option>
                  </optgroup>
                  <optgroup label="NGU·ªíN THU (+)">
                    <option value="ƒê√≥ng qu·ªπ h·ªôi vi√™n">ƒê√≥ng qu·ªπ h·ªôi vi√™n</option>
                    <option value="T√†i tr·ª£ / ·ª¶ng h·ªô">T√†i tr·ª£ / ·ª¶ng h·ªô</option>
                    <option value="Thu kh√°c">Thu kh√°c</option>
                    <option value="T√†i tr·ª£ hi·ªán v·∫≠t">
                      üéÅ T√†i tr·ª£ hi·ªán v·∫≠t
                    </option>
                  </optgroup>
                </select>
              </div>
              <div class="mb-3">
                <label class="small fw-bold text-muted">Ng∆∞·ªùi n·ªôp/nh·∫≠n</label
                ><input
                  type="text"
                  class="form-control"
                  id="nguoiLienQuan"
                  required
                />
              </div>
              <div class="mb-4">
                <label class="small fw-bold text-muted">Ghi ch√∫</label
                ><textarea class="form-control" id="ghiChu"></textarea>
              </div>
              <button
                type="submit"
                class="btn btn-primary w-100 py-3 rounded-3 fw-bold shadow-sm"
                id="btnLuu"
              >
                L∆ØU D·ªÆ LI·ªÜU
              </button>
            </form>
          </div>
        </div>

        <div id="view-search">
          <button
            class="btn btn-light mb-3 rounded-pill px-4 fw-bold text-muted shadow-sm"
            onclick="chuyenManHinh('dashboard')"
          >
            <i class="fas fa-arrow-left me-2"></i>Quay l·∫°i
          </button>
          <div class="card card-box p-3 mb-3 bg-white">
            <h6 class="fw-bold text-center mb-3">T√åM KI·∫æM & B√ÅO C√ÅO</h6>
            <div class="row g-2">
              <div class="col-6">
                <label class="small text-muted fw-bold">T·ª´ ng√†y</label
                ><input type="date" id="searchTuNgay" class="form-control" />
              </div>
              <div class="col-6">
                <label class="small text-muted fw-bold">ƒê·∫øn ng√†y</label
                ><input type="date" id="searchDenNgay" class="form-control" />
              </div>
              <div class="col-12">
                <select id="searchLoai" class="form-select">
                  <option value="T·∫•t c·∫£">T·∫•t c·∫£ (Thu & Chi)</option>
                  <option value="Thu">Ch·ªâ xem Phi·∫øu Thu</option>
                  <option value="Chi">Ch·ªâ xem Phi·∫øu Chi</option>
                </select>
              </div>
              <div class="col-8">
                <button
                  class="btn btn-warning w-100 fw-bold mt-2 text-dark"
                  onclick="thucHienTimKiem()"
                >
                  <i class="fas fa-search me-2"></i>T√åM KI·∫æM
                </button>
              </div>
              <div class="col-4">
                <button
                  class="btn btn-success w-100 fw-bold mt-2"
                  onclick="inBaoCao()"
                  id="btnIn"
                  disabled
                >
                  <i class="fas fa-print"></i> IN
                </button>
              </div>
            </div>
          </div>
          <div id="ketQuaTimKiem"></div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="script.js"></script>
  </body>
</html>

